name: dependsOn demo
baseUrl: ${ENV:HTTPBIN_BASE_URL}
vars:
  seedId: "12345"
tests:
  - name: create id
    request:
      method: POST
      url: /anything
      body:
        id: ${seedId}
    assert:
      status: 200
      jsonEquals:
        json.id: ${seedId}
    extract:
      prevId:
        jsonPath: json.id
    timeoutMs: 0
    repeat: 0
    stage: 0
  - name: reuse extracted id
    request:
      method: POST
      url: /anything
      body:
        prev: ${prevId}
    assert:
      status: 200
      jsonEquals:
        json.prev: ${prevId}
      maxDurationMs: 0
    timeoutMs: 0
    repeat: 0
    dependsOn:
      - create id
