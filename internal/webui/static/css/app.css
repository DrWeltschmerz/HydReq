/* Extracted from index.html <style> block - HydReq GUI styles */
/* Compact fields: narrow numeric inputs */
#ed_stage, #ed_timeout, #ed_assert_status, #ed_assert_maxDuration,
#ed_retry_max, #ed_retry_backoff, #ed_retry_jitter { max-width: 160px; }
/* Align checkboxes toward the left edge of their column */
#ed_skip, #ed_only, #ed_retry_enable { margin-left: 0; justify-self: start; }
/* Densify grids and sections */
#ed_suite_form, #ed_req_form, #ed_assert_form, #ed_flow_form, #ed_retry_form, #ed_oapi_form { gap: 6px !important; }
#pane_visual details > summary { padding: 6px !important; }
#pane_visual details > div { padding: 6px !important; }
#ed_preview { gap: 6px !important; }
/* Editor compact sizing for numeric fields */
#ed_stage, #ed_timeout, #ed_assert_status, #ed_assert_maxDuration,
#ed_retry_max, #ed_retry_backoff, #ed_retry_jitter {
  max-width: 160px;
}
/* Align checkboxes to the left (no extra offset) */
#ed_skip, #ed_only, #ed_retry_enable { margin-left: 0; }
/* Modal scroll containment and compact sizing */
#editorModal { overscroll-behavior: contain; }
body.modal-open { overflow: hidden; }
#editorModal .editor-root { font-size: 14px; }
/* Runner area: slightly smaller fonts for denser output */
#results, .run { font-size: 12px; }
#suites li { font-size: 13px; border: 1px solid var(--bd); }
/* Anti-vertical-squish safety: allow flex children to shrink and scroll */
.flex-col { display:flex; flex-direction:column; min-height:0; }
.scroll { overflow:auto; min-height:0; }
/* Theme tokens consolidated in themes.css â€” keep CSS rules here; theme variables live in themes.css */
body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; margin: 0; background: var(--bg); color: var(--txt); }
header { background: var(--hdr-bg); color: var(--hdr-fg); padding: 16px; font-weight: 700; display:flex; align-items:center; justify-content:space-between; }
/* Make the left pane slightly wider for better file names and controls */
main { display: grid; grid-template-columns: 520px 1fr; height: calc(100vh - 64px); }
aside { border-right: 1px solid var(--bd); padding: 12px; overflow: auto; }
section { padding: 12px; overflow: auto; }
ul { list-style: none; padding: 0; margin: 0; }
li { padding: 8px 10px; border-radius: 6px; cursor: pointer; }
li:hover { background: var(--li-hov); }
li.selected { background: var(--li-sel); }
.row { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
.pill { background: var(--pill); border-radius: 999px; padding: 2px 8px; font-size: 12px; }
.progress { height: 10px; background: var(--pg-bg); border-radius: 6px; overflow: hidden; }
.progress > div { height: 10px; background: linear-gradient(90deg, var(--grad1), var(--grad2)); width: 0%; }
.log { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 12px; white-space: pre-wrap; }
/* suite-tests visual grouping */
.suite-tests { margin-top: 6px; }
.suite-tests > div { padding: 6px 8px; margin: 4px 0; border-radius: 6px; display:flex; justify-content:space-between; align-items:center; }
.suite-tests > div:hover { background: var(--li-hov); }
/* animate expand/collapse */
.suite-tests { max-height: 0; overflow: hidden; transition: max-height 220ms ease; }
.suite-tests.open { max-height: 1200px; }
/* suite badge styling and animation */
.suite-badge { margin-left: 8px; margin-right: 8px; transition: transform .12s ease, opacity .12s ease, background .12s ease; display:inline-block; }
.suite-badge.animate { transform: scale(1.12); }
/* small inline spinner for loading tests */
.spinner { border: 2px solid rgba(0,0,0,0.08); border-top-color: var(--link); border-radius: 50%; width: 14px; height: 14px; animation: spin 1s linear infinite; display: inline-block; vertical-align: middle; margin-right: 6px; }
@keyframes spin { to { transform: rotate(360deg); } }
/* spacing between suites */
#suites { display:flex; flex-direction:column; gap:8px; }
.ok { color: var(--success); } .fail { color: var(--error); } .skip { color: var(--warning); }
/* Runner area: slightly smaller fonts for denser output */
#results, .run { font-size: 12px; }
.toolbar { display:flex; gap:8px; align-items:center; }
button { padding: 6px 10px; border: 1px solid var(--btn-bd); background: var(--btn-bg); border-radius: 6px; cursor: pointer; color: inherit; }
button:hover { background: var(--btn-hov); }
.run { color:#3b82f6 }
.CodeMirror { height: 100%; width: 100%; border: 1px solid var(--bd); border-radius: 6px; }
body.dark .CodeMirror { background: #0f172a; color: #e5e7eb; }
#editorModal input[type="text"],
#editorModal input[type="number"],
#editorModal select,
#editorModal textarea {
  background: var(--input-bg);
  border: 1px solid var(--input-bd);
  color: var(--input-fg);
}
#editorModal input[type="text"]:focus,
#editorModal input[type="number"]:focus,
#editorModal select:focus,
#editorModal textarea:focus {
  outline: 2px solid var(--input-focus);
  outline-offset: 1px;
  border-color: var(--input-focus);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--input-focus) 25%, transparent);
  background: var(--input-bg);
}
a { color: var(--link); }
#ed_splitter:hover { background: #93c5fd !important; }
#ed_splitter.dragging { background: #60a5fa !important; }
#editorModal .editor-root.comfortable { font-size: 15px; }
#editorModal .editor-root.comfortable input[type="text"],
#editorModal .editor-root.comfortable input[type="number"],
#editorModal .editor-root.comfortable select,
#editorModal .editor-root.comfortable textarea { padding: 8px 10px; }
#editorModal .editor-root.comfortable #pane_visual details > summary { padding: 8px !important; }
#editorModal .editor-root.comfortable #pane_visual details > div { padding: 8px !important; }
#editorModal .editor-root.comfortable #ed_suite_form,
#editorModal .editor-root.comfortable #ed_req_form,
#editorModal .editor-root.comfortable #ed_assert_form,
#editorModal .editor-root.comfortable #ed_flow_form,
#editorModal .editor-root.comfortable #ed_retry_form,
#editorModal .editor-root.comfortable #ed_oapi_form { gap: 10px !important; }
#editorModal { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 9999; }
.editor-root { background: var(--bg); color: var(--txt); position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); width: 90vw; height: 88vh; border: 1px solid var(--bd); border-radius: 8px; display: flex; flex-direction: column; min-height: 0; }
.ed-header { padding: 8px 12px; border-bottom: 1px solid var(--bd); display: flex; gap: 12px; align-items: center; justify-content: space-between; position: sticky; top: 0; background: var(--bg); z-index: 2; }
.ed-header-left { display: flex; align-items: center; gap: 12px; }
.ed-actions { display: flex; gap: 8px; align-items: center; }
.ed-main { display: flex; gap: 8px; flex: 1; overflow: hidden; min-height: 0; }
.ed-pane { display: flex; flex: 1 1 auto; gap: 8px; overflow: auto; padding: 8px; min-width: 0; min-height: 0; }
.ed-tests-panel { flex: 0 0 280px; border: 1px solid var(--bd); border-radius: 6px; display: flex; flex-direction: column; overflow: hidden; min-height: 0; }
.ed-tests-header { padding: 8px; border-bottom: 1px solid var(--bd); font-weight: 600; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; background: var(--bg); z-index: 1; }
.ed-tests-list { flex: 1; overflow: auto; min-height: 0; }
.ed-center { flex: 1 1 auto; display: flex; flex-direction: column; gap: 8px; overflow: auto; min-height: 0; min-width: 640px; }
.ed-panel { border: 1px solid var(--bd); border-radius: 6px; overflow: visible; }
.ed-panel.tight { overflow: hidden; }
.ed-summary { padding: 8px; border-bottom: 1px solid var(--bd); font-weight: 600; cursor: pointer; }
.ed-body { padding: 8px; }
.ed-grid-2-140 { display: grid; grid-template-columns: 140px 1fr; gap: 8px; }
.ed-grid-2-130 { display: grid; grid-template-columns: 130px 1fr; gap: 8px; }
.ed-grid-2-160 { display: grid; grid-template-columns: 160px 1fr; gap: 8px; }
.ed-spacer-8 { height: 8px; }
.ed-subhead { font-weight: 600; margin-bottom: 6px; }
.ed-splitter { flex: 0 0 6px; cursor: col-resize; background: var(--bd); border-radius: 4px; align-self: stretch; }
.ed-right { flex: 0 1 30%; margin: 8px; border: 1px solid var(--bd); border-radius: 6px; display: flex; flex-direction: column; min-width: 340px; max-width: 50%; resize: horizontal; overflow: auto; min-height: 0; }
.ed-right-title { padding: 8px; border-bottom: 1px solid var(--bd); font-weight: 600; position: sticky; top: 0; background: var(--bg); z-index: 1; }
.ed-preview { padding: 8px; overflow: auto; display: flex; flex-direction: column; gap: 6px; flex: 1 1 auto; min-height: 0; }
.ed-section { border: 1px solid var(--bd); border-radius: 6px; overflow: auto; display: flex; flex-direction: column; min-height: 0; }
.ed-section summary { padding: 6px; font-weight: 600; cursor: pointer; position: sticky; top: 0; background: var(--bg); z-index: 1; }
.text-error { color: #ef4444; }
.text-warning { color: #f59e0b; }
.text-success { color: #10b981; }
.ed-tabs { gap: 6px; }
.ed-row-6 { display: flex; gap: 6px; }
.ed-row-8 { display: flex; gap: 8px; }
.ed-ai-center { align-items: center; }
.ed-ai-start { align-items: flex-start; }
.ed-justify-between { justify-content: space-between; }
.ed-col-span-full { grid-column: 1 / -1; }
.ed-mt-6 { margin-top: 6px; }
.ed-textarea-md { height: 140px; }
.ed-mono-dim { font-family: monospace; opacity: .85; }
.ed-grid-1-1-auto { display: grid; grid-template-columns: 1fr 1fr auto; gap: 6px; }
.ed-grid-1-auto { display: grid; grid-template-columns: 1fr auto; gap: 6px; }
.m-0 { margin: 0; }
.w-64px { width: 64px; }
.w-120px { width: 120px; }
.w-full { width: 100%; }
.h-80px { height: 80px; }
.wrap { flex-wrap: wrap; }
.gap-4px { gap: 4px; }
.flex-1 { flex: 1; }
.fw-600 { font-weight: 600; }
.hidden { display: none; }
.invisible { visibility: hidden; }
.ed-grid-col-2 { grid-column: 2 / 3; }
.ed-grid-140-1-auto2 { display: grid; grid-template-columns: 140px 1fr auto auto; gap: 8px; align-items: center; }
.dim { opacity: .8; }
.tab.disabled { opacity: .5; pointer-events: none; }
.ed-disabled { opacity: .6; pointer-events: none; }
.text-xs { font-size: 12px; }
.tags-caption { opacity: 0.55; letter-spacing: .2px; }
.env-caption { opacity: 0.55; letter-spacing: .2px; }

/* Toolbar utilities */
.toolbar.row { display:flex; gap:8px; align-items:center; margin-bottom:8px; }
/* Distribute toolbar buttons evenly across available width */
.toolbar.row > .btn { flex: 1 1 0%; min-width: 0; }
@media (max-width: 480px) {
  .toolbar.row > .btn { flex-basis: 100%; }
}
/* Make workers/timeout labels spread evenly across container */
.full-width-labels { display:flex; gap:8px; align-items:center; width:100%; }
.full-width-labels > label { flex:1 1 0%; min-width:0; display:flex; align-items:center; justify-content:space-between; gap:8px; }
.full-width-labels > label input { flex:0 0 auto; min-width:0; }
@media (max-width: 480px) {
  .full-width-labels { flex-direction: column; gap: 6px; }
  .full-width-labels > label { width: 100%; }
}
.gap-8 { gap:8px; }
.mb-8 { margin-bottom:8px; }
.ai-center { align-items:center; }
.ml-8 { margin-left: 8px; }
.nowrap { white-space: nowrap; }
/* Small utility helpers for spacing and sizing */
.gap-12 { gap: 12px; }
.mr-6 { margin-right: 6px; }
.w-36px { width: 36px; }
.h-36px { height: 36px; }
.h-120px { height: 120px; }
.d-block { display: block; }
/* monospace 12px helper */
.mono-12 { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 12px; }
/* unsaved pill styling */
.pill-unsaved { background: rgba(239,68,68,0.15); color: var(--error); }

/* Keep Batch progress header height stable when tags appear/disappear */
#batchHeader { min-height: 52px; align-items: center; }
#activeTagsTopWrap { min-height: 26px; margin-top: 0; }
#activeTagsTop { display:flex; flex-wrap: wrap; gap: 4px; }
#activeTagsTop .pill { line-height: 1.2; margin-top: 2px; }
#activeEnvTopWrap { min-height: 26px; margin-top: 0; }


/* Force identical caption sizing for tags/env (override framework variance) */
#activeTagsCaption, #activeEnvCaption { font-size: 12.5px !important; line-height: 1.1 !important; margin-bottom: 2px !important; font-weight: 400 !important; }
#activeEnvTop { display:flex; flex-wrap: wrap; gap: 4px; }
#activeEnvTop .pill { line-height: 1.2; margin-top: 2px; border: 1px solid rgba(125,125,125,0.25); background: var(--pill); opacity: 0.96; }
.ed-ai-center #activeTagsTopWrap,
.ed-ai-center #activeEnvTopWrap {
  align-self: flex-start;
}
.bp-title { padding: 6px 0; }

/* Keep suite-level download button at top */
#suites li { position: relative; }
#suites li .dl-icon, #suites li .dl-text { pointer-events: none; }
/* Keep actions inline with title */
#suites li .suite-actions { margin-left: auto; display: flex; gap: 6px; }

/* Editor tests list item styling and selection highlight */
.ed-test-container { margin-bottom: 2px; }
.ed-test-item { display:flex; justify-content:space-between; align-items:center; padding:6px 8px; border-radius:6px; cursor:pointer; }
.ed-test-item:not(.selected):hover { background: var(--li-hov); }
.ed-test-details { padding: 0 8px 6px 24px; font-size: 0.9em; }
.ed-test-details > summary, .ed-msg-details > summary { cursor: pointer; opacity: .85; font-size: 12px; margin: 2px 0 4px; }
.ed-test-messages { margin: 0; padding: 6px; border-radius: 4px; background-color: var(--bg-subtle); white-space: pre-wrap; overflow-wrap: break-word; max-height: 150px; overflow-y: auto; }
.ed-test-messages.fail { background-color: var(--bg-err); color: var(--err); }

/* Suites list: test rows and details beneath */
.suite-test-container { margin: 2px 0; }
.suite-test-item { display:flex; justify-content:space-between; align-items:center; padding:4px 6px; border-radius:6px; }
.suite-test-item:hover { background: var(--li-hov); }
.suite-test-name { display:inline-flex; align-items:baseline; gap:6px; }
.suite-test-status { margin-left: 6px; }
.suite-test-details { padding: 0 6px 8px 24px; }
.suite-test-details > summary { cursor: pointer; opacity: .9; font-size: 12px; margin: 2px 0 4px; color: var(--error); }

/* Unified message block styling for both editor and suites */
.message-block { margin: 4px 0 0; padding: 8px; border-radius: 6px; background: var(--bg-subtle); color: inherit; white-space: pre-wrap; overflow-wrap: anywhere; max-height: 220px; overflow: auto; border: 1px solid var(--bd); font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 12px; line-height: 1.4; }
.message-block.fail { background: rgba(239,68,68,0.08); color: var(--error); border-color: rgba(239,68,68,0.28); }
.message-block.ok { background: rgba(16,185,129,0.08); color: var(--success); border-color: rgba(16,185,129,0.28); }
.message-block.skip { background: rgba(245,158,11,0.08); color: var(--warning); border-color: rgba(245,158,11,0.28); }
.ed-test-item.selected {
  background: var(--li-sel);
  border: 1px solid var(--bd);
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--bd) 40%, transparent);
  position: relative;
  outline: 1px solid var(--link);
  outline-offset: -1px;
}
.ed-test-item.selected::before {
  content: '';
  position: absolute;
  left: 0; top: 0; bottom: 0;
  width: 3px;
  background: var(--link);
  border-top-left-radius: 6px;
  border-bottom-left-radius: 6px;
}
.ed-test-item.selected .ed-test-name { font-weight: 600; }

/* Utility classes (spacing, layout, fonts) */
.gap-8 { gap: 8px; }
.gap-6 { gap: 6px; }
.gap-4 { gap: 4px; }
.mb-6 { margin-bottom: 6px; }
.mt-6 { margin-top: 6px; }
.ai-baseline { align-items: baseline; }
.ml-32px { margin-left: 32px; }
.ml-auto { margin-left: auto; }
.w-28px { width: 28px; }
.d-inline-block { display: inline-block; }
.pos-relative { position: relative; }
.pos-absolute { position: absolute; }
.right-0 { right: 0; }
.top-28px { top: 28px; }
.minw-140px { min-width: 140px; }
.rounded-6 { border-radius: 6px; }
.p-6 { padding: 6px; }
.fs-16 { font-size: 16px; }
.fs-11 { font-size: 11px; }
.text-10 { font-size: 10px; }
.w-40p { width: 40%; }

/* Left border decoration used for test lists under a suite */
.border-l-soft { border-left: 2px solid rgba(0,0,0,0.04); }

/* Dropdown menu panel and items (for downloads) */
.menu-panel {
  position: absolute;
  right: 0;
  top: 28px;
  min-width: 140px;
  border: 1px solid var(--bd);
  background: var(--bg);
  padding: 6px;
  border-radius: 6px;
  box-shadow: 0 6px 12px rgba(0,0,0,0.08);
  display: none;
  z-index: 10;
}
.menu-item { padding: 6px; cursor: pointer; border-radius: 4px; }
.menu-item:hover { background: var(--li-hov); }

/* Debug banner (dev only) */
.dbg-banner {
  padding: 12px;
  background: rgba(255,0,0,0.06);
  border: 1px solid rgba(255,0,0,0.12);
  margin: 8px;
  border-radius: 6px;
}
/* Unified status badges across app */
.status-badge { display:inline-block; border-radius:999px; padding:2px 8px; font-size:12px; line-height:1.2; background: var(--pill); color: inherit; transition: background .15s ease, color .15s ease; }
.status-ok { background: rgba(16,185,129,0.12); color: var(--success); border: 1px solid rgba(16,185,129,0.28); }
.status-fail { background: rgba(239,68,68,0.10); color: var(--error); border: 1px solid rgba(239,68,68,0.28); }
.status-skip { background: rgba(245,158,11,0.12); color: var(--warning); border: 1px solid rgba(245,158,11,0.32); }
.status-unknown { opacity: .6; }

/* Editor status badge spacing */
.ed-test-item .ed-test-status { margin-left: 6px; }

/* Tag chip selection state */
.tag-chip { cursor: pointer; opacity: .8; }
.tag-chip.selected { outline: 1px solid var(--link); outline-offset: 0; opacity: 1; }
