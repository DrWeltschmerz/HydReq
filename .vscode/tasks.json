{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "build: hydreq",
      "type": "shell",
      "command": "go build -o ./bin/hydreq ./cmd/hydreq",
      "problemMatcher": ["$go"],
      "group": { "kind": "build", "isDefault": true }
    },
    {
      "label": "test: all",
      "type": "shell",
      "command": "go test -race ./...",
      "problemMatcher": ["$go"],
      "group": { "kind": "test", "isDefault": true }
    },
    {
      "label": "hydreq: Run current suite",
      "type": "shell",
      "command": "[ -x \"${workspaceFolder}/bin/hydreq\" ] && ${workspaceFolder}/bin/hydreq run -f ${file} || (echo 'Error: hydreq binary not found or not executable. Please build first.' >&2; exit 1)",
      "dependsOn": "build: hydreq",
      "problemMatcher": []
    }
  ]
}